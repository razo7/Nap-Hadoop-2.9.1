<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Sat Oct 13 15:44:32 IDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DynamoDBMetadataStore (Apache Hadoop Amazon Web Services support 2.9.1 API)</title>
<meta name="date" content="2018-10-13">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DynamoDBMetadataStore (Apache Hadoop Amazon Web Services support 2.9.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamoDBMetadataStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBClientFactory.DefaultDynamoDBClientFactory.html" title="class in org.apache.hadoop.fs.s3a.s3guard"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/LocalMetadataStore.html" title="class in org.apache.hadoop.fs.s3a.s3guard"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html" target="_top">Frames</a></li>
<li><a href="DynamoDBMetadataStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.fs.s3a.s3guard</div>
<h2 title="Class DynamoDBMetadataStore" class="title">Class DynamoDBMetadataStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.fs.s3a.s3guard.DynamoDBMetadataStore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></dd>
</dl>
<hr>
<br>
<pre>@InterfaceAudience.Private
 @InterfaceStability.Evolving
public class <span class="typeNameLabel">DynamoDBMetadataStore</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></pre>
<div class="block">DynamoDBMetadataStore is a <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard"><code>MetadataStore</code></a> that persists
 file system metadata to DynamoDB.

 The current implementation uses a schema consisting of a single table.  The
 name of the table can be configured by config key
 <a href="../../../../../../org/apache/hadoop/fs/s3a/Constants.html#S3GUARD_DDB_TABLE_NAME_KEY"><code>Constants.S3GUARD_DDB_TABLE_NAME_KEY</code></a>.
 By default, it matches the name of the S3 bucket.  Each item in the table
 represents a single directory or file.  Its path is split into separate table
 attributes:
 <ul>
 <li> parent (absolute path of the parent, with bucket name inserted as
 first path component). </li>
 <li> child (path of that specific child, relative to parent). </li>
 <li> optional boolean attribute tracking whether the path is a directory.
      Absence or a false value indicates the path is a file. </li>
 <li> optional long attribute revealing modification time of file.
      This attribute is meaningful only to file items.</li>
 <li> optional long attribute revealing file length.
      This attribute is meaningful only to file items.</li>
 <li> optional long attribute revealing block size of the file.
      This attribute is meaningful only to file items.</li>
 </ul>

 The DynamoDB partition key is the parent, and the range key is the child.

 To allow multiple buckets to share the same DynamoDB table, the bucket
 name is treated as the root directory.

 For example, assume the consistent store contains metadata representing this
 file system structure:

 <pre>
 s3a://bucket/dir1
 |-- dir2
 |   |-- file1
 |   `-- file2
 `-- dir3
     |-- dir4
     |   `-- file3
     |-- dir5
     |   `-- file4
     `-- dir6
 </pre>

 This is persisted to a single DynamoDB table as:

 <pre>
 =========================================================================
 | parent                 | child | is_dir | mod_time | len |     ...    |
 =========================================================================
 | /bucket                | dir1  | true   |          |     |            |
 | /bucket/dir1           | dir2  | true   |          |     |            |
 | /bucket/dir1           | dir3  | true   |          |     |            |
 | /bucket/dir1/dir2      | file1 |        |   100    | 111 |            |
 | /bucket/dir1/dir2      | file2 |        |   200    | 222 |            |
 | /bucket/dir1/dir3      | dir4  | true   |          |     |            |
 | /bucket/dir1/dir3      | dir5  | true   |          |     |            |
 | /bucket/dir1/dir3/dir4 | file3 |        |   300    | 333 |            |
 | /bucket/dir1/dir3/dir5 | file4 |        |   400    | 444 |            |
 | /bucket/dir1/dir3      | dir6  | true   |          |     |            |
 =========================================================================
 </pre>

 This choice of schema is efficient for read access patterns.
 <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#get-org.apache.hadoop.fs.Path-"><code>get(Path)</code></a> can be served from a single item lookup.
 <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#listChildren-org.apache.hadoop.fs.Path-"><code>listChildren(Path)</code></a> can be served from a query against all rows
 matching the parent (the partition key) and the returned list is guaranteed
 to be sorted by child (the range key).  Tracking whether or not a path is a
 directory helps prevent unnecessary queries during traversal of an entire
 sub-tree.

 Some mutating operations, notably <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#deleteSubtree-org.apache.hadoop.fs.Path-"><code>deleteSubtree(Path)</code></a> and
 <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#move-java.util.Collection-java.util.Collection-"><code>move(Collection, Collection)</code></a>, are less efficient with this schema.
 They require mutating multiple items in the DynamoDB table.

 By default, DynamoDB access is performed within the same AWS region as
 the S3 bucket that hosts the S3A instance.  During initialization, it checks
 the location of the S3 bucket and creates a DynamoDB client connected to the
 same region. The region may also be set explicitly by setting the config
 parameter <code>fs.s3a.s3guard.ddb.region</code> to the corresponding region.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#E_INCOMPATIBLE_VERSION">E_INCOMPATIBLE_VERSION</a></span></code>
<div class="block">Error: version mismatch.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#E_NO_VERSION_MARKER">E_NO_VERSION_MARKER</a></span></code>
<div class="block">Error: version marker not found in table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#MIN_RETRY_SLEEP_MSEC">MIN_RETRY_SLEEP_MSEC</a></span></code>
<div class="block">Initial delay for retries when batched operations get throttled by
 DynamoDB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#VERSION">VERSION</a></span></code>
<div class="block">Current version number.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#VERSION_MARKER">VERSION_MARKER</a></span></code>
<div class="block">parent/child name to use in the version marker.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#DynamoDBMetadataStore--">DynamoDBMetadataStore</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#delete-org.apache.hadoop.fs.Path-">delete</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Deletes exactly one path, leaving a tombstone to prevent lingering,
 inconsistent copies of it from being listed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#deleteSubtree-org.apache.hadoop.fs.Path-">deleteSubtree</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Deletes the entire sub-tree rooted at the given path, leaving tombstones
 to prevent lingering, inconsistent copies of it from being listed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#destroy--">destroy</a></span>()</code>
<div class="block">Destroy all resources associated with the metadata store.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#forgetMetadata-org.apache.hadoop.fs.Path-">forgetMetadata</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Removes the record of exactly one path.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#get-org.apache.hadoop.fs.Path-">get</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Gets metadata for a path.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#get-org.apache.hadoop.fs.Path-boolean-">get</a></span>(org.apache.hadoop.fs.Path&nbsp;path,
   boolean&nbsp;wantEmptyDirectoryFlag)</code>
<div class="block">Gets metadata for a path.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#getDiagnostics--">getDiagnostics</a></span>()</code>
<div class="block">Get any diagnostics information from a store, as a list of (key, value)
 tuples for display.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#initialize-org.apache.hadoop.conf.Configuration-">initialize</a></span>(org.apache.hadoop.conf.Configuration&nbsp;config)</code>
<div class="block">Performs one-time initialization of the metadata store via configuration.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#initialize-org.apache.hadoop.fs.FileSystem-">initialize</a></span>(org.apache.hadoop.fs.FileSystem&nbsp;fs)</code>
<div class="block">Performs one-time initialization of the metadata store.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DirListingMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">DirListingMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#listChildren-org.apache.hadoop.fs.Path-">listChildren</a></span>(org.apache.hadoop.fs.Path&nbsp;path)</code>
<div class="block">Lists metadata for all direct children of a path.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#move-java.util.Collection-java.util.Collection-">move</a></span>(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;pathsToDelete,
    <a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&gt;&nbsp;pathsToCreate)</code>
<div class="block">Record the effects of a <code>FileSystem.rename(Path, Path)</code> in the
 MetadataStore.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#prune-long-">prune</a></span>(long&nbsp;modTime)</code>
<div class="block">Clear any metadata older than a specified time from the repository.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#put-java.util.Collection-">put</a></span>(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&gt;&nbsp;metas)</code>
<div class="block">Saves metadata for any number of paths.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#put-org.apache.hadoop.fs.s3a.s3guard.DirListingMetadata-">put</a></span>(<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DirListingMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">DirListingMetadata</a>&nbsp;meta)</code>
<div class="block">Save directory listing metadata.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#put-org.apache.hadoop.fs.s3a.s3guard.PathMetadata-">put</a></span>(<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&nbsp;meta)</code>
<div class="block">Saves metadata for exactly one path.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#updateParameters-java.util.Map-">updateParameters</a></span>(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters)</code>
<div class="block">Tune/update parameters for an existing table.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>public static final&nbsp;org.slf4j.Logger LOG</pre>
</li>
</ul>
<a name="VERSION_MARKER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERSION_MARKER</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> VERSION_MARKER</pre>
<div class="block">parent/child name to use in the version marker.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.fs.s3a.s3guard.DynamoDBMetadataStore.VERSION_MARKER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERSION</h4>
<pre>public static final&nbsp;int VERSION</pre>
<div class="block">Current version number.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.fs.s3a.s3guard.DynamoDBMetadataStore.VERSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="E_NO_VERSION_MARKER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>E_NO_VERSION_MARKER</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> E_NO_VERSION_MARKER</pre>
<div class="block">Error: version marker not found in table.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.fs.s3a.s3guard.DynamoDBMetadataStore.E_NO_VERSION_MARKER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="E_INCOMPATIBLE_VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>E_INCOMPATIBLE_VERSION</h4>
<pre>public static final&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> E_INCOMPATIBLE_VERSION</pre>
<div class="block">Error: version mismatch.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.fs.s3a.s3guard.DynamoDBMetadataStore.E_INCOMPATIBLE_VERSION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MIN_RETRY_SLEEP_MSEC">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MIN_RETRY_SLEEP_MSEC</h4>
<pre>public static final&nbsp;long MIN_RETRY_SLEEP_MSEC</pre>
<div class="block">Initial delay for retries when batched operations get throttled by
 DynamoDB. Value is 100L msec.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#org.apache.hadoop.fs.s3a.s3guard.DynamoDBMetadataStore.MIN_RETRY_SLEEP_MSEC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DynamoDBMetadataStore--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DynamoDBMetadataStore</h4>
<pre>public&nbsp;DynamoDBMetadataStore()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize-org.apache.hadoop.fs.FileSystem-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize(org.apache.hadoop.fs.FileSystem&nbsp;fs)
                throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#initialize-org.apache.hadoop.fs.FileSystem-">MetadataStore</a></code></span></div>
<div class="block">Performs one-time initialization of the metadata store.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#initialize-org.apache.hadoop.fs.FileSystem-">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fs</code> - <code>FileSystem</code> associated with the MetadataStore</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="initialize-org.apache.hadoop.conf.Configuration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;void&nbsp;initialize(org.apache.hadoop.conf.Configuration&nbsp;config)
                throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Performs one-time initialization of the metadata store via configuration.

 This initialization depends on the configuration object to get AWS
 credentials, DynamoDBFactory implementation class, DynamoDB endpoints,
 DynamoDB table names etc. After initialization, this metadata store does
 not explicitly relate to any S3 bucket, which be nonexistent.

 This is used to operate the metadata store directly beyond the scope of the
 S3AFileSystem integration, e.g. command line tools.
 Generally, callers should use <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#initialize-org.apache.hadoop.fs.FileSystem-"><code>initialize(FileSystem)</code></a>
 with an initialized <code>S3AFileSystem</code> instance.

 Without a filesystem to act as a reference point, the configuration itself
 must declare the table name and region in the
 <a href="../../../../../../org/apache/hadoop/fs/s3a/Constants.html#S3GUARD_DDB_TABLE_NAME_KEY"><code>Constants.S3GUARD_DDB_TABLE_NAME_KEY</code></a> and
 <a href="../../../../../../org/apache/hadoop/fs/s3a/Constants.html#S3GUARD_DDB_REGION_KEY"><code>Constants.S3GUARD_DDB_REGION_KEY</code></a> respectively.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#initialize-org.apache.hadoop.conf.Configuration-">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - Configuration.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the configuration is incomplete</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html#initialize-org.apache.hadoop.fs.FileSystem-"><code>initialize(FileSystem)</code></a></dd>
</dl>
</li>
</ul>
<a name="delete-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(org.apache.hadoop.fs.Path&nbsp;path)
            throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#delete-org.apache.hadoop.fs.Path-">MetadataStore</a></code></span></div>
<div class="block">Deletes exactly one path, leaving a tombstone to prevent lingering,
 inconsistent copies of it from being listed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#delete-org.apache.hadoop.fs.Path-">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="forgetMetadata-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forgetMetadata</h4>
<pre>public&nbsp;void&nbsp;forgetMetadata(org.apache.hadoop.fs.Path&nbsp;path)
                    throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#forgetMetadata-org.apache.hadoop.fs.Path-">MetadataStore</a></code></span></div>
<div class="block">Removes the record of exactly one path.  Does not leave a tombstone (see
 <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#delete-org.apache.hadoop.fs.Path-"><code>MetadataStore.delete(Path)</code></a>. It is currently intended for testing
 only, and a need to use it as part of normal FileSystem usage is not
 anticipated.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#forgetMetadata-org.apache.hadoop.fs.Path-">forgetMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="deleteSubtree-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteSubtree</h4>
<pre>public&nbsp;void&nbsp;deleteSubtree(org.apache.hadoop.fs.Path&nbsp;path)
                   throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#deleteSubtree-org.apache.hadoop.fs.Path-">MetadataStore</a></code></span></div>
<div class="block">Deletes the entire sub-tree rooted at the given path, leaving tombstones
 to prevent lingering, inconsistent copies of it from being listed.

 In addition to affecting future calls to <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#get-org.apache.hadoop.fs.Path-"><code>MetadataStore.get(Path)</code></a>,
 implementations must also update any stored <code>DirListingMetadata</code>
 objects which track the parent of this file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#deleteSubtree-org.apache.hadoop.fs.Path-">deleteSubtree</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the root of the sub-tree to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="get-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&nbsp;get(org.apache.hadoop.fs.Path&nbsp;path)
                 throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#get-org.apache.hadoop.fs.Path-">MetadataStore</a></code></span></div>
<div class="block">Gets metadata for a path.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#get-org.apache.hadoop.fs.Path-">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>metadata for <code>path</code>, <code>null</code> if not found</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="get-org.apache.hadoop.fs.Path-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&nbsp;get(org.apache.hadoop.fs.Path&nbsp;path,
                        boolean&nbsp;wantEmptyDirectoryFlag)
                 throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#get-org.apache.hadoop.fs.Path-boolean-">MetadataStore</a></code></span></div>
<div class="block">Gets metadata for a path.  Alternate method that includes a hint
 whether or not the MetadataStore should do work to compute the value for
 <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html#isEmptyDirectory--"><code>PathMetadata.isEmptyDirectory()</code></a>.  Since determining emptiness
 may be an expensive operation, this can save wasted work.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#get-org.apache.hadoop.fs.Path-boolean-">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to get</dd>
<dd><code>wantEmptyDirectoryFlag</code> - Set to true to give a hint to the
   MetadataStore that it should try to compute the empty directory flag.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>metadata for <code>path</code>, <code>null</code> if not found</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="listChildren-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listChildren</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DirListingMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">DirListingMetadata</a>&nbsp;listChildren(org.apache.hadoop.fs.Path&nbsp;path)
                                throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#listChildren-org.apache.hadoop.fs.Path-">MetadataStore</a></code></span></div>
<div class="block">Lists metadata for all direct children of a path.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#listChildren-org.apache.hadoop.fs.Path-">listChildren</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to list</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>metadata for all direct children of <code>path</code> which are being
     tracked by the MetadataStore, or <code>null</code> if the path was not found
     in the MetadataStore.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="move-java.util.Collection-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>move</h4>
<pre>public&nbsp;void&nbsp;move(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;pathsToDelete,
                 <a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&gt;&nbsp;pathsToCreate)
          throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#move-java.util.Collection-java.util.Collection-">MetadataStore</a></code></span></div>
<div class="block">Record the effects of a <code>FileSystem.rename(Path, Path)</code> in the
 MetadataStore.  Clients provide explicit enumeration of the affected
 paths (recursively), before and after the rename.

 This operation is not atomic, unless specific implementations claim
 otherwise.

 On the need to provide an enumeration of directory trees instead of just
 source and destination paths:
 Since a MetadataStore does not have to track all metadata for the
 underlying storage system, and a new MetadataStore may be created on an
 existing underlying filesystem, this move() may be the first time the
 MetadataStore sees the affected paths.  Therefore, simply providing src
 and destination paths may not be enough to record the deletions (under
 src path) and creations (at destination) that are happening during the
 rename().</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#move-java.util.Collection-java.util.Collection-">move</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pathsToDelete</code> - Collection of all paths that were removed from the
                      source directory tree of the move.</dd>
<dd><code>pathsToCreate</code> - Collection of all PathMetadata for the new paths
                      that were created at the destination of the rename
                      ().</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="put-org.apache.hadoop.fs.s3a.s3guard.PathMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&nbsp;meta)
         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#put-org.apache.hadoop.fs.s3a.s3guard.PathMetadata-">MetadataStore</a></code></span></div>
<div class="block">Saves metadata for exactly one path.

 Implementations may pre-create all the path's ancestors automatically.
 Implementations must update any <code>DirListingMetadata</code> objects which
 track the immediate parent of this file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#put-org.apache.hadoop.fs.s3a.s3guard.PathMetadata-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>meta</code> - the metadata to save</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="put-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/PathMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">PathMetadata</a>&gt;&nbsp;metas)
         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#put-java.util.Collection-">MetadataStore</a></code></span></div>
<div class="block">Saves metadata for any number of paths.

 Semantics are otherwise the same as single-path puts.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#put-java.util.Collection-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metas</code> - the metadata to save</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="put-org.apache.hadoop.fs.s3a.s3guard.DirListingMetadata-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(<a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DirListingMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard">DirListingMetadata</a>&nbsp;meta)
         throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#put-org.apache.hadoop.fs.s3a.s3guard.DirListingMetadata-">MetadataStore</a></code></span></div>
<div class="block">Save directory listing metadata. Callers may save a partial directory
 listing for a given path, or may store a complete and authoritative copy
 of the directory listing.  <code>MetadataStore</code> implementations may
 subsequently keep track of all modifications to the directory contents at
 this path, and return authoritative results from subsequent calls to
 <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#listChildren-org.apache.hadoop.fs.Path-"><code>MetadataStore.listChildren(Path)</code></a>. See <a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DirListingMetadata.html" title="class in org.apache.hadoop.fs.s3a.s3guard"><code>DirListingMetadata</code></a>.

 Any authoritative results returned are only authoritative for the scope
 of the <code>MetadataStore</code>:  A per-process <code>MetadataStore</code>, for
 example, would only show results visible to that process, potentially
 missing metadata updates (create, delete) made to the same path by
 another process.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#put-org.apache.hadoop.fs.s3a.s3guard.DirListingMetadata-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>meta</code> - Directory listing metadata.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()
             throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#destroy--">MetadataStore</a></code></span></div>
<div class="block">Destroy all resources associated with the metadata store.

 The destroyed resources can be DynamoDB tables, MySQL databases/tables, or
 HDFS directories. Any operations after calling this method may possibly
 fail.

 This operation is idempotent.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#destroy--">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="prune-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prune</h4>
<pre>public&nbsp;void&nbsp;prune(long&nbsp;modTime)
           throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#prune-long-">MetadataStore</a></code></span></div>
<div class="block">Clear any metadata older than a specified time from the repository.
 Implementations MUST clear file metadata, and MAY clear directory metadata
 (s3a itself does not track modification time for directories).
 Implementations may also choose to throw UnsupportedOperationException
 istead. Note that modification times should be in UTC, as returned by
 System.currentTimeMillis at the time of modification.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#prune-long-">prune</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>modTime</code> - Oldest modification time to allow</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getDiagnostics--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDiagnostics</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getDiagnostics()
                                  throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#getDiagnostics--">MetadataStore</a></code></span></div>
<div class="block">Get any diagnostics information from a store, as a list of (key, value)
 tuples for display. Arbitrary values; no guarantee of stability.
 These are for debugging only.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#getDiagnostics--">getDiagnostics</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a map of strings.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
<a name="updateParameters-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateParameters</h4>
<pre>public&nbsp;void&nbsp;updateParameters(<a href="http://download.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;parameters)
                      throws <a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#updateParameters-java.util.Map-">MetadataStore</a></code></span></div>
<div class="block">Tune/update parameters for an existing table.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html#updateParameters-java.util.Map-">updateParameters</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/MetadataStore.html" title="interface in org.apache.hadoop.fs.s3a.s3guard">MetadataStore</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parameters</code> - map of params to change.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is an error</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamoDBMetadataStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/DynamoDBClientFactory.DefaultDynamoDBClientFactory.html" title="class in org.apache.hadoop.fs.s3a.s3guard"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/fs/s3a/s3guard/LocalMetadataStore.html" title="class in org.apache.hadoop.fs.s3a.s3guard"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/fs/s3a/s3guard/DynamoDBMetadataStore.html" target="_top">Frames</a></li>
<li><a href="DynamoDBMetadataStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.apache.org">Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
